# 2.5.3.2.3 ã‚«ãƒãƒ¬ãƒƒã‚¸æ¸¬å®šï¼ˆJest coverageï¼‰

## ç›®çš„

ãƒ†ã‚¹ãƒˆã‚«ãƒãƒ¬ãƒƒã‚¸ã‚’æ¸¬å®šã—ã€80%ä»¥ä¸Šã‚’é”æˆã—ã¾ã™ã€‚

---

## ğŸ“Š ã‚«ãƒãƒ¬ãƒƒã‚¸æ¸¬å®š

### jest.config.js è¨­å®š

```javascript
module.exports = {
  preset: 'ts-jest',
  testEnvironment: 'node',
  collectCoverage: true,
  coverageDirectory: 'coverage',
  collectCoverageFrom: [
    'src/**/*.{ts,tsx}',
    '!src/**/*.d.ts',
    '!src/**/*.test.ts',
    '!src/index.ts',
  ],
  coverageThresholds: {
    global: {
      branches: 80,
      functions: 80,
      lines: 80,
      statements: 80,
    },
  },
};
```

### å®Ÿè¡Œ

```bash
# ã‚«ãƒãƒ¬ãƒƒã‚¸ä»˜ãã§ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
npm test -- --coverage

# ã‚«ãƒãƒ¬ãƒƒã‚¸ãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆï¼ˆHTMLï¼‰
npm test -- --coverage --coverageReporters=html

# ã‚«ãƒãƒ¬ãƒƒã‚¸ãƒ¬ãƒãƒ¼ãƒˆç¢ºèª
open coverage/index.html
```

### package.json ã‚¹ã‚¯ãƒªãƒ—ãƒˆ

```json
{
  "scripts": {
    "test": "jest",
    "test:coverage": "jest --coverage",
    "test:watch": "jest --watch",
    "test:ci": "jest --coverage --ci --maxWorkers=2"
  }
}
```

### ç›®æ¨™

- âœ… **ã‚«ãƒãƒ¬ãƒƒã‚¸80%ä»¥ä¸Š**
- âœ… é‡è¦ãªæ¥­å‹™ãƒ­ã‚¸ãƒƒã‚¯: 90%ä»¥ä¸Š
- âœ… ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°åˆ†å²ã‚‚ç¶²ç¾…

### ã‚«ãƒãƒ¬ãƒƒã‚¸ãƒ¬ãƒãƒ¼ãƒˆã®è¦‹æ–¹

```
-------------------|---------|----------|---------|---------|-------------------
File               | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s
-------------------|---------|----------|---------|---------|-------------------
All files          |   85.7  |   80.0   |   90.0  |   85.7  |
 userService.ts    |   90.0  |   85.0   |  100.0  |   90.0  | 42-45
 productService.ts |   80.0  |   75.0   |   80.0  |   80.0  | 18,27-30
-------------------|---------|----------|---------|---------|-------------------
```

- **Stmts**: æ–‡ã‚«ãƒãƒ¬ãƒƒã‚¸
- **Branch**: åˆ†å²ã‚«ãƒãƒ¬ãƒƒã‚¸
- **Funcs**: é–¢æ•°ã‚«ãƒãƒ¬ãƒƒã‚¸
- **Lines**: è¡Œã‚«ãƒãƒ¬ãƒƒã‚¸

---

**ä½œæˆæ—¥**: 2025-10-19
**é‡è¦åº¦**: â­â­â­
