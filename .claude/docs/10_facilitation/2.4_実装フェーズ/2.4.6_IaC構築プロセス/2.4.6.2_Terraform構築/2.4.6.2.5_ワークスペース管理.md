# 2.4.6.2.5 Terraformãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹ç®¡ç†

## ç›®çš„

Terraformãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹ã§ç’°å¢ƒã‚’åˆ†é›¢ã—ã¾ã™ã€‚

---

## ğŸ”„ ãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹ç®¡ç†

### 1. ãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹ã®ä½œæˆ

```bash
# devç’°å¢ƒ
terraform workspace new dev

# stgç’°å¢ƒ
terraform workspace new stg

# prdç’°å¢ƒ
terraform workspace new prd
```

---

### 2. ãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹ã®åˆ‡ã‚Šæ›¿ãˆ

```bash
# ç¾åœ¨ã®ãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹ç¢ºèª
terraform workspace show

# ãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹åˆ‡ã‚Šæ›¿ãˆ
terraform workspace select prd
```

---

### 3. ãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹åˆ¥ã®è¨­å®š

```hcl
# variables.tf
variable "instance_count" {
  default = {
    dev = 1
    stg = 2
    prd = 3
  }
}

# main.tf
resource "aws_instance" "app" {
  count = var.instance_count[terraform.workspace]
  # ...
}
```

---

**ä½œæˆæ—¥**: 2025-10-19
**å¯¾è±¡ãƒ•ã‚§ãƒ¼ã‚º**: å®Ÿè£…
**é‡è¦åº¦**: â­â­ æ¨å¥¨
